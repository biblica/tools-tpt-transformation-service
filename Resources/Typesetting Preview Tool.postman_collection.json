{
	"info": {
		"_postman_id": "81960ed8-3aa7-4bf2-8dec-cbec8bfbad92",
		"name": "Typesetting Preview Tool",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "583746"
	},
	"item": [
		{
			"name": "TPT Plugin Job Creation",
			"item": [
				{
					"name": "Create Preview Job",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"user\": \"{{user}}\",\n    \"bibleSelectionParams\": {\n        \"projectName\": \"usNIV11\"\n    },\n    \"typesettingParams\": {\n        \"bookFormat\": 1,\n        \"includeFootnotes\": true\n    }\n}\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{api-url}}/api/PreviewJobs",
							"host": [
								"{{api-url}}"
							],
							"path": [
								"api",
								"PreviewJobs"
							]
						}
					},
					"response": [
						{
							"name": "ukNIV11-cav",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"user\": \"{{user}}\",\n    \"bibleSelectionParams\": {\n        \"projectName\": \"ukNIV11\"\n    },\n    \"typesettingParams\": {\n        \"bookFormat\": 1,\n        \"includeFootnotes\": true\n    }\n}\n",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{api-url}}/api/PreviewJobs",
									"host": [
										"{{api-url}}"
									],
									"path": [
										"api",
										"PreviewJobs"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Date",
									"value": "Thu, 30 Sep 2021 21:03:07 GMT"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "1189"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Location",
									"value": "http://tpt-server.biblica.com/api/PreviewJobs/fee6c0ba-ac12-41a2-9f75-c4820a004332"
								},
								{
									"key": "Server",
									"value": "Microsoft-IIS/10.0"
								}
							],
							"cookie": [],
							"body": "{\n    \"id\": \"fee6c0ba-ac12-41a2-9f75-c4820a004332\",\n    \"dateSubmitted\": \"2021-09-30T21:03:07.8220767Z\",\n    \"dateStarted\": null,\n    \"dateCompleted\": null,\n    \"dateCancelled\": null,\n    \"user\": \"Kent Spielmann\",\n    \"isSubmitted\": true,\n    \"isStarted\": false,\n    \"isCompleted\": false,\n    \"isCancelled\": false,\n    \"isError\": false,\n    \"state\": [\n        {\n            \"id\": \"703b0469-98fe-4cee-b601-1c7a671d3156\",\n            \"dateSubmitted\": \"2021-09-30T21:03:07.8220767Z\",\n            \"state\": \"Submitted\",\n            \"source\": \"GeneralManagement\"\n        }\n    ],\n    \"errorMessage\": null,\n    \"errorDetail\": null,\n    \"bibleSelectionParams\": {\n        \"id\": \"179d5240-8b7e-4800-aadc-4208c42b709b\",\n        \"projectName\": \"ukNIV11\",\n        \"selectedBooks\": null,\n        \"includeAncillary\": false\n    },\n    \"typesettingParams\": {\n        \"id\": \"ba1ac726-41b6-4f1c-b5d9-ad89e270c2f2\",\n        \"fontSizeInPts\": 8,\n        \"fontLeadingInPts\": 9,\n        \"pageWidthInPts\": 396,\n        \"pageHeightInPts\": 612,\n        \"pageHeaderInPts\": 18,\n        \"bookFormat\": 1,\n        \"useHyphenation\": false,\n        \"useCustomFootnotes\": false,\n        \"useProjectFont\": true,\n        \"includeHeadings\": false,\n        \"includeFootnotes\": true,\n        \"includeChapterNumbers\": false,\n        \"includeVerseNumbers\": false,\n        \"includeParallelPassages\": false,\n        \"includeAcrosticPoetry\": false\n    },\n    \"additionalParams\": {\n        \"id\": \"cfb0e291-b685-4883-a28d-57e847718f5c\",\n        \"customFootnoteMarkers\": null,\n        \"customBookListUsxCompKeys\": null,\n        \"overrideFont\": null,\n        \"textDirection\": 0\n    }\n}"
						},
						{
							"name": "usNIV11-cav",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"user\": \"{{user}}\",\n    \"bibleSelectionParams\": {\n        \"projectName\": \"usNIV11\"\n    },\n    \"typesettingParams\": {\n        \"bookFormat\": 1,\n        \"includeFootnotes\": true\n    }\n}\n",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{api-url}}/api/PreviewJobs",
									"host": [
										"{{api-url}}"
									],
									"path": [
										"api",
										"PreviewJobs"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Date",
									"value": "Thu, 30 Sep 2021 21:04:02 GMT"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "1189"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Location",
									"value": "http://tpt-server.biblica.com/api/PreviewJobs/78ac7f78-4bfd-480c-bf53-44d853e6b690"
								},
								{
									"key": "Server",
									"value": "Microsoft-IIS/10.0"
								}
							],
							"cookie": [],
							"body": "{\n    \"id\": \"78ac7f78-4bfd-480c-bf53-44d853e6b690\",\n    \"dateSubmitted\": \"2021-09-30T21:04:01.9995091Z\",\n    \"dateStarted\": null,\n    \"dateCompleted\": null,\n    \"dateCancelled\": null,\n    \"user\": \"Kent Spielmann\",\n    \"isSubmitted\": true,\n    \"isStarted\": false,\n    \"isCompleted\": false,\n    \"isCancelled\": false,\n    \"isError\": false,\n    \"state\": [\n        {\n            \"id\": \"d139698a-713d-449d-8c35-87f6f3784cf9\",\n            \"dateSubmitted\": \"2021-09-30T21:04:01.9995091Z\",\n            \"state\": \"Submitted\",\n            \"source\": \"GeneralManagement\"\n        }\n    ],\n    \"errorMessage\": null,\n    \"errorDetail\": null,\n    \"bibleSelectionParams\": {\n        \"id\": \"d832a210-e807-4ece-a460-3b1bf99b98b0\",\n        \"projectName\": \"usNIV11\",\n        \"selectedBooks\": null,\n        \"includeAncillary\": false\n    },\n    \"typesettingParams\": {\n        \"id\": \"e153e132-cc51-4889-8a85-ffb935df8079\",\n        \"fontSizeInPts\": 8,\n        \"fontLeadingInPts\": 9,\n        \"pageWidthInPts\": 396,\n        \"pageHeightInPts\": 612,\n        \"pageHeaderInPts\": 18,\n        \"bookFormat\": 1,\n        \"useHyphenation\": false,\n        \"useCustomFootnotes\": false,\n        \"useProjectFont\": true,\n        \"includeHeadings\": false,\n        \"includeFootnotes\": true,\n        \"includeChapterNumbers\": false,\n        \"includeVerseNumbers\": false,\n        \"includeParallelPassages\": false,\n        \"includeAcrosticPoetry\": false\n    },\n    \"additionalParams\": {\n        \"id\": \"472b7acc-30e5-4c56-937d-e0e5b8056a08\",\n        \"customFootnoteMarkers\": null,\n        \"customBookListUsxCompKeys\": null,\n        \"overrideFont\": null,\n        \"textDirection\": 0\n    }\n}"
						}
					]
				}
			]
		},
		{
			"name": "USX Job Creation",
			"item": [
				{
					"name": "POST PreviewJob w/Content",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "{{auth-token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "usxContent",
									"type": "file",
									"src": "/C:/Work/Files/Bb/DT-475 Release TPT/DT331.zip"
								},
								{
									"key": "TypesettingParams.BookFormat",
									"value": "cav",
									"type": "text"
								},
								{
									"key": "TypesettingParams.UseCustomFootnotes",
									"value": "false",
									"type": "text"
								},
								{
									"key": "TypesettingParams.UseProjectFont",
									"value": "false",
									"type": "text"
								},
								{
									"key": "TypesettingParams.UseHyphenation",
									"value": "false",
									"type": "text"
								},
								{
									"key": "AdditionalParams.TextDirection",
									"value": "LTR",
									"type": "text"
								},
								{
									"key": "User",
									"value": "Test1",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{api-url}}/api/PreviewJobsWithContent",
							"host": [
								"{{api-url}}"
							],
							"path": [
								"api",
								"PreviewJobsWithContent"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Get Project Details",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{api-url}}/api/ProjectDetails",
					"host": [
						"{{api-url}}"
					],
					"path": [
						"api",
						"ProjectDetails"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Server Status",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{api-url}}/api/ServerStatus",
					"host": [
						"{{api-url}}"
					],
					"path": [
						"api",
						"ServerStatus"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Preview Jobs",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "formdata",
					"formdata": []
				},
				"url": {
					"raw": "{{api-url}}/api/PreviewJobs/bbf099b6-240e-4940-9090-9cb9c560a825",
					"host": [
						"{{api-url}}"
					],
					"path": [
						"api",
						"PreviewJobs",
						"bbf099b6-240e-4940-9090-9cb9c560a825"
					]
				}
			},
			"response": []
		},
		{
			"name": "Delete Preview Job",
			"request": {
				"method": "DELETE",
				"header": [],
				"url": {
					"raw": "{{api-url}}/api/PreviewJobs/59e2b17d-a905-4ad3-82af-c8919e1ff10d",
					"host": [
						"{{api-url}}"
					],
					"path": [
						"api",
						"PreviewJobs",
						"59e2b17d-a905-4ad3-82af-c8919e1ff10d"
					]
				}
			},
			"response": []
		},
		{
			"name": "Download Preview File",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{api-url}}/api/PreviewFile/724a6b47-c9b8-4554-a4ec-091d4fdd9c89?archive=true",
					"host": [
						"{{api-url}}"
					],
					"path": [
						"api",
						"PreviewFile",
						"724a6b47-c9b8-4554-a4ec-091d4fdd9c89"
					],
					"query": [
						{
							"key": "archive",
							"value": "true"
						}
					]
				}
			},
			"response": []
		}
	]
}